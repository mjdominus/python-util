#!/usr/bin/python3

import fileinput
import semexp
from sgrammar import grammar
import sys
import tatsu
from trivsem import trivsem

parser = tatsu.compile(grammar, name="eval", semantics=trivsem())

if (len(sys.argv) > 1):
    print (parser.parse(" ".join(sys.argv[1:])))
else:
    for line in fileinput.input():
        result = parser.parse(line)
        print(result)
        
    
